FROM qbituniverse/ai-r-core-api-base:4.0.252

LABEL version="4.0" \
 	  description="Base Image for use with R Api with Java" \
	  maintainer="marcin.narloch@qbituniverse.com"
	
RUN apt-get update && \
	apt-get install -y \
	default-jdk \
	r-cran-rjava && \
    apt-get clean && \
	R CMD javareconf
	
RUN	R -e "update.packages(lib.loc = '/usr/local/lib/R/library', ask = FALSE)" && \
	R -e "update.packages(lib.loc = '/usr/local/lib/R/site-library', ask = FALSE)" && \
	rm -rf /usr/lib/R/library && \
	rm -rf /var/lib/apt/lists/* && \
	rm -rf /tmp/*